{"createdBy":"69649cbda3588f40b95606ed","expiresInDays":7,"level":"info","maxUses":1,"message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-12T08:30:19.356Z"}
{"data":{"expiresInDays":7,"maxUses":1,"metadata":{"createdBy":"Test Admin","purpose":"New university onboarding"},"organizationName":"Test University"},"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error creating organization token","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:30:19.369Z"}
{"createdBy":"69649cbda3588f40b95606ed","expiresInDays":7,"level":"info","maxUses":1,"message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-12T08:31:14.320Z"}
{"data":{"expiresInDays":7,"maxUses":1,"metadata":{"createdBy":"Test Admin","purpose":"New university onboarding"},"organizationName":"Test University"},"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error creating organization token","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:31:14.324Z"}
{"createdBy":"69649cbda3588f40b95606ed","expiresInDays":7,"level":"info","maxUses":1,"message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-12T08:36:37.618Z"}
{"data":{"expiresInDays":7,"maxUses":1,"metadata":{"createdBy":"Test Admin","purpose":"New university onboarding"},"organizationName":"Test University"},"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error creating organization token","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:36:37.620Z"}
{"createdBy":"69649cbda3588f40b95606ed","expiresInDays":7,"level":"info","maxUses":1,"message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-12T08:38:25.791Z"}
{"data":{"expiresInDays":7,"maxUses":1,"metadata":{"createdBy":"Test Admin","purpose":"New university onboarding"},"organizationName":"Test University"},"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error creating organization token","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:38:25.793Z"}
{"createdBy":"69649cbda3588f40b95606ed","expiresInDays":7,"level":"info","maxUses":1,"message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-12T08:38:28.903Z"}
{"data":{"expiresInDays":7,"maxUses":1,"metadata":{"createdBy":"Test Admin","purpose":"New university onboarding"},"organizationName":"Test University"},"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error creating organization token","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:38:28.906Z"}
{"createdBy":"69649cbda3588f40b95606ed","expiresInDays":7,"level":"info","maxUses":1,"message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-12T08:40:50.615Z"}
{"data":{"expiresInDays":7,"maxUses":1,"metadata":{},"organizationName":"Test University"},"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error creating organization token","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:40:50.617Z"}
{"createdBy":"69649cbda3588f40b95606ed","expiresInDays":7,"level":"info","maxUses":1,"message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-12T08:41:20.464Z"}
{"data":{"expiresInDays":7,"maxUses":1,"metadata":{},"organizationName":"Test University"},"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error creating organization token","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:41:20.467Z"}
{"createdBy":"69649cbda3588f40b95606ed","email":"test-university@temp.org","level":"info","message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-12T08:59:46.631Z"}
{"data":{"email":"test-university@temp.org","expiryDays":7,"notes":"{\"createdBy\":\"Platform Admin\",\"purpose\":\"New university onboarding\",\"notes\":\"Testing organization creation\"}","organizationName":"Test University"},"error":"next is not a function","level":"error","message":"Error creating organization token","stack":"TypeError: next is not a function\n    at model.<anonymous> (D:\\new_lms\\backend\\models\\OrganizationToken.js:181:3)\n    at Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:63:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)\n    at async OrganizationService.createToken (D:\\new_lms\\backend\\services\\organizationService.js:84:7)\n    at async exports.generateToken (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:51:19)","timestamp":"2026-01-12T08:59:46.659Z"}
{"createdBy":"69649cbda3588f40b95606ed","email":"contact@test-university.edu","level":"info","message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-12T09:02:21.728Z"}
{"data":{"email":"contact@test-university.edu","expiryDays":7,"notes":"{\"createdBy\":\"Platform Admin\",\"purpose\":\"New university onboarding\",\"notes\":\"Testing organization creation\"}","organizationName":"Test University"},"error":"next is not a function","level":"error","message":"Error creating organization token","stack":"TypeError: next is not a function\n    at model.<anonymous> (D:\\new_lms\\backend\\models\\OrganizationToken.js:181:3)\n    at Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:63:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)\n    at async OrganizationService.createToken (D:\\new_lms\\backend\\services\\organizationService.js:79:7)\n    at async exports.generateToken (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:49:19)","timestamp":"2026-01-12T09:02:21.749Z"}
{"createdBy":"69649cbda3588f40b95606ed","email":"contact@test-university.edu","level":"info","message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-12T09:06:04.633Z"}
{"expiresAt":"2026-01-19T09:06:04.645Z","level":"info","message":"Organization token created successfully","organizationName":"Test University","timestamp":"2026-01-12T09:06:04.664Z","tokenId":"6964b97c4315f2f0dbbae3cd"}
{"createdBy":"69649cbda3588f40b95606ed","email":"contact@test-university.edu","level":"info","message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-12T09:07:17.644Z"}
{"level":"warn","message":"Active token already exists for email: contact@test-university.edu","timestamp":"2026-01-12T09:07:17.648Z"}
{"data":{"email":"contact@test-university.edu","expiryDays":7,"notes":"{\"createdBy\":\"Platform Admin\",\"purpose\":\"New university onboarding\",\"notes\":\"Testing organization creation\"}","organizationName":"Test University"},"error":"An active token already exists for this email","level":"error","message":"Error creating organization token","stack":"Error: An active token already exists for this email\n    at OrganizationService.createToken (D:\\new_lms\\backend\\services\\organizationService.js:59:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.generateToken (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:49:19)","timestamp":"2026-01-12T09:07:17.649Z"}
{"createdBy":"69649cbda3588f40b95606ed","email":"contact@test-university.edu","level":"info","message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-12T09:09:27.729Z"}
{"level":"warn","message":"Active token already exists for email: contact@test-university.edu","timestamp":"2026-01-12T09:09:27.736Z"}
{"data":{"email":"contact@test-university.edu","expiryDays":7,"notes":"{\"createdBy\":\"Platform Admin\",\"purpose\":\"New university onboarding\",\"notes\":\"Testing organization creation\"}","organizationName":"Test University"},"error":"An active token already exists for this email","level":"error","message":"Error creating organization token","stack":"Error: An active token already exists for this email\n    at OrganizationService.createToken (D:\\new_lms\\backend\\services\\organizationService.js:59:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.generateToken (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:49:19)","timestamp":"2026-01-12T09:09:27.736Z"}
{"createdBy":"69649cbda3588f40b95606ed","email":"contac@test-university.edu","level":"info","message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-12T09:09:48.860Z"}
{"expiresAt":"2026-01-19T09:09:48.866Z","level":"info","message":"Organization token created successfully","organizationName":"Test University","timestamp":"2026-01-12T09:09:48.882Z","tokenId":"6964ba5cfc3ccb170b5604ed"}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-12T09:10:57.642Z","token":"d494bddcfa..."}
{"level":"info","message":"Token validated successfully","timestamp":"2026-01-12T09:10:57.646Z","tokenId":"6964ba5cfc3ccb170b5604ed"}
{"level":"info","message":"Registering new organization","organizationName":"Test University","superAdminEmail":"admin@test-university.edu","timestamp":"2026-01-12T09:15:57.056Z","token":"{{org_toke..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-12T09:15:57.056Z","token":"{{org_toke..."}
{"level":"warn","message":"Invalid token provided","timestamp":"2026-01-12T09:15:57.059Z","token":"{{org_toke..."}
{"error":"Invalid token","level":"error","message":"Error validating token","timestamp":"2026-01-12T09:15:57.059Z","token":"{{org_toke..."}
{"error":"Invalid token","level":"error","message":"Error registering organization","stack":"Error: Invalid token\n    at OrganizationService.validateToken (D:\\new_lms\\backend\\services\\organizationService.js:117:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OrganizationService.registerOrganization (D:\\new_lms\\backend\\services\\organizationService.js:157:21)\n    at async exports.register (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:186:20)","timestamp":"2026-01-12T09:15:57.060Z","token":"{{org_toke..."}
{"level":"info","message":"Registering new organization","organizationName":"Test University","superAdminEmail":"admin@test-university.edu","timestamp":"2026-01-12T09:16:12.536Z","token":"d494bddcfa..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-12T09:16:12.536Z","token":"d494bddcfa..."}
{"level":"info","message":"Token validated successfully","timestamp":"2026-01-12T09:16:12.539Z","tokenId":"6964ba5cfc3ccb170b5604ed"}
{"error":"Organization validation failed: slug: Path `slug` is required.","level":"error","message":"Error registering organization","stack":"ValidationError: Organization validation failed: slug: Path `slug` is required.\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T09:16:12.554Z","token":"d494bddcfa..."}
{"level":"info","message":"Registering new organization","organizationName":"Test University","superAdminEmail":"admin@test-university.edu","timestamp":"2026-01-12T09:17:38.650Z","token":"d494bddcfa..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-12T09:17:38.651Z","token":"d494bddcfa..."}
{"level":"info","message":"Token validated successfully","timestamp":"2026-01-12T09:17:38.667Z","tokenId":"6964ba5cfc3ccb170b5604ed"}
{"level":"info","message":"Organization created","name":"Test University","organizationId":"6964bc32c656d98a36ec476c","slug":"test-university","timestamp":"2026-01-12T09:17:38.702Z"}
{"email":"admin@test-university.edu","level":"info","message":"Super admin user created","organizationId":"6964bc32c656d98a36ec476c","timestamp":"2026-01-12T09:17:38.820Z","userId":"6964bc32c656d98a36ec476f"}
{"level":"info","message":"Organization registration completed successfully","organizationId":"6964bc32c656d98a36ec476c","superAdminId":"6964bc32c656d98a36ec476f","timestamp":"2026-01-12T09:17:38.832Z","tokenId":"6964ba5cfc3ccb170b5604ed"}
{"createdBy":"69649cbda3588f40b95606ed","email":"contact@test-university.edu","level":"info","message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-13T14:17:03.970Z"}
{"level":"warn","message":"Attempted to create token for existing organization email: contact@test-university.edu","timestamp":"2026-01-13T14:17:03.978Z"}
{"data":{"email":"contact@test-university.edu","expiryDays":7,"notes":"","organizationName":"Test University"},"error":"An organization with this email already exists","level":"error","message":"Error creating organization token","stack":"Error: An organization with this email already exists\n    at OrganizationService.createToken (D:\\new_lms\\backend\\services\\organizationService.js:47:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.generateToken (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:49:19)","timestamp":"2026-01-13T14:17:03.979Z"}
{"createdBy":"69649cbda3588f40b95606ed","email":"contact1@test-university.edu","level":"info","message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-13T14:17:13.729Z"}
{"expiresAt":"2026-01-20T14:17:13.753Z","level":"info","message":"Organization token created successfully","organizationName":"Test University","timestamp":"2026-01-13T14:17:13.775Z","tokenId":"696653e9a4a4ed94ecc5a6a0"}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-13T15:48:55.587Z","token":"6964b97c43..."}
{"level":"warn","message":"Invalid token provided","timestamp":"2026-01-13T15:48:55.593Z","token":"6964b97c43..."}
{"error":"Invalid token","level":"error","message":"Error validating token","timestamp":"2026-01-13T15:48:55.594Z","token":"6964b97c43..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-13T15:51:47.154Z","token":"6964bc32c6..."}
{"level":"warn","message":"Invalid token provided","timestamp":"2026-01-13T15:51:47.156Z","token":"6964bc32c6..."}
{"error":"Invalid token","level":"error","message":"Error validating token","timestamp":"2026-01-13T15:51:47.156Z","token":"6964bc32c6..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-13T15:51:48.993Z","token":"6964bc32c6..."}
{"level":"warn","message":"Invalid token provided","timestamp":"2026-01-13T15:51:48.995Z","token":"6964bc32c6..."}
{"error":"Invalid token","level":"error","message":"Error validating token","timestamp":"2026-01-13T15:51:48.995Z","token":"6964bc32c6..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-13T15:52:09.856Z","token":"6964ba5cfc..."}
{"level":"warn","message":"Invalid token provided","timestamp":"2026-01-13T15:52:09.858Z","token":"6964ba5cfc..."}
{"error":"Invalid token","level":"error","message":"Error validating token","timestamp":"2026-01-13T15:52:09.858Z","token":"6964ba5cfc..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-13T15:52:27.785Z","token":"57d5eed43b..."}
{"expiresAt":"2026-01-19T09:06:04.645Z","isUsed":false,"level":"warn","message":"Token is not valid","status":"revoked","timestamp":"2026-01-13T15:52:27.788Z","tokenId":"6964b97c4315f2f0dbbae3cd"}
{"error":"Token is expired or already used","level":"error","message":"Error validating token","timestamp":"2026-01-13T15:52:27.788Z","token":"57d5eed43b..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-13T15:54:10.331Z","token":"d494bddcfa..."}
{"expiresAt":"2026-01-19T09:09:48.866Z","isUsed":true,"level":"warn","message":"Token is not valid","status":"used","timestamp":"2026-01-13T15:54:10.333Z","tokenId":"6964ba5cfc3ccb170b5604ed"}
{"error":"Token is expired or already used","level":"error","message":"Error validating token","timestamp":"2026-01-13T15:54:10.334Z","token":"d494bddcfa..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-13T15:54:47.699Z","token":"584870c2bd..."}
{"level":"info","message":"Token validated successfully","timestamp":"2026-01-13T15:54:47.701Z","tokenId":"696653e9a4a4ed94ecc5a6a0"}
{"level":"info","message":"Registering new organization","organizationName":"Test University","superAdminEmail":"admin@test-university.edu","timestamp":"2026-01-13T15:56:53.668Z","token":"584870c2bd..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-13T15:56:53.669Z","token":"584870c2bd..."}
{"level":"info","message":"Token validated successfully","timestamp":"2026-01-13T15:56:53.671Z","tokenId":"696653e9a4a4ed94ecc5a6a0"}
{"level":"warn","message":"Email already registered: admin@test-university.edu","timestamp":"2026-01-13T15:56:53.676Z"}
{"error":"This email is already registered","level":"error","message":"Error registering organization","stack":"Error: This email is already registered\n    at OrganizationService.registerOrganization (D:\\new_lms\\backend\\services\\organizationService.js:169:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.register (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:186:20)","timestamp":"2026-01-13T15:56:53.677Z","token":"584870c2bd..."}
{"level":"info","message":"Registering new organization","organizationName":"Test University","superAdminEmail":"admin@test-university.edu","timestamp":"2026-01-13T15:57:05.867Z","token":"584870c2bd..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-13T15:57:05.868Z","token":"584870c2bd..."}
{"level":"info","message":"Token validated successfully","timestamp":"2026-01-13T15:57:05.870Z","tokenId":"696653e9a4a4ed94ecc5a6a0"}
{"level":"warn","message":"Email already registered: admin@test-university.edu","timestamp":"2026-01-13T15:57:05.872Z"}
{"error":"This email is already registered","level":"error","message":"Error registering organization","stack":"Error: This email is already registered\n    at OrganizationService.registerOrganization (D:\\new_lms\\backend\\services\\organizationService.js:169:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.register (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:186:20)","timestamp":"2026-01-13T15:57:05.872Z","token":"584870c2bd..."}
{"level":"info","message":"Registering new organization","organizationName":"Test University","superAdminEmail":"admin1@test-university.edu","timestamp":"2026-01-13T15:57:15.882Z","token":"584870c2bd..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-13T15:57:15.883Z","token":"584870c2bd..."}
{"level":"info","message":"Token validated successfully","timestamp":"2026-01-13T15:57:15.886Z","tokenId":"696653e9a4a4ed94ecc5a6a0"}
{"level":"warn","message":"Organization name already exists: Test University","timestamp":"2026-01-13T15:57:15.894Z"}
{"error":"An organization with this name already exists","level":"error","message":"Error registering organization","stack":"Error: An organization with this name already exists\n    at OrganizationService.registerOrganization (D:\\new_lms\\backend\\services\\organizationService.js:180:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.register (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:186:20)","timestamp":"2026-01-13T15:57:15.895Z","token":"584870c2bd..."}
{"level":"info","message":"Registering new organization","organizationName":"Test shgc","superAdminEmail":"admin1@test-university.edu","timestamp":"2026-01-13T15:57:35.683Z","token":"584870c2bd..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-13T15:57:35.684Z","token":"584870c2bd..."}
{"level":"info","message":"Token validated successfully","timestamp":"2026-01-13T15:57:35.686Z","tokenId":"696653e9a4a4ed94ecc5a6a0"}
{"level":"info","message":"Organization created","name":"Test shgc","organizationId":"69666b6f4eda0e46d99024db","slug":"test-shgc","timestamp":"2026-01-13T15:57:35.713Z"}
{"email":"admin1@test-university.edu","level":"info","message":"Super admin user created","organizationId":"69666b6f4eda0e46d99024db","timestamp":"2026-01-13T15:57:35.843Z","userId":"69666b6f4eda0e46d99024de"}
{"level":"info","message":"Organization registration completed successfully","organizationId":"69666b6f4eda0e46d99024db","superAdminId":"69666b6f4eda0e46d99024de","timestamp":"2026-01-13T15:57:35.854Z","tokenId":"696653e9a4a4ed94ecc5a6a0"}
{"id":"69666b6f4eda0e46d99024db","level":"info","message":"Fetching organization by ID","timestamp":"2026-01-13T15:59:36.758Z"}
{"id":"69666b6f4eda0e46d99024db","level":"info","message":"Organization fetched successfully","name":"Test shgc","timestamp":"2026-01-13T15:59:36.763Z"}
{"level":"info","message":"Registering new organization","organizationName":"Test shgc","superAdminEmail":"admin1@test-university.edu","timestamp":"2026-01-13T16:01:22.886Z","token":"584870c2bd..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-13T16:01:22.886Z","token":"584870c2bd..."}
{"expiresAt":"2026-01-20T14:17:13.753Z","isUsed":true,"level":"warn","message":"Token is not valid","status":"used","timestamp":"2026-01-13T16:01:22.888Z","tokenId":"696653e9a4a4ed94ecc5a6a0"}
{"error":"Token is expired or already used","level":"error","message":"Error validating token","timestamp":"2026-01-13T16:01:22.889Z","token":"584870c2bd..."}
{"error":"Token is expired or already used","level":"error","message":"Error registering organization","stack":"Error: Token is expired or already used\n    at OrganizationService.validateToken (D:\\new_lms\\backend\\services\\organizationService.js:127:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OrganizationService.registerOrganization (D:\\new_lms\\backend\\services\\organizationService.js:157:21)\n    at async exports.register (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:186:20)","timestamp":"2026-01-13T16:01:22.889Z","token":"584870c2bd..."}
{"level":"info","message":"Registering new organization","organizationName":"Test shgc","superAdminEmail":"admin1@test-university.edu","timestamp":"2026-01-13T16:02:02.586Z","token":"584870c2bd..."}
{"level":"info","message":"Validating organization token","timestamp":"2026-01-13T16:02:02.586Z","token":"584870c2bd..."}
{"expiresAt":"2026-01-20T14:17:13.753Z","isUsed":true,"level":"warn","message":"Token is not valid","status":"used","timestamp":"2026-01-13T16:02:02.589Z","tokenId":"696653e9a4a4ed94ecc5a6a0"}
{"error":"Token is expired or already used","level":"error","message":"Error validating token","timestamp":"2026-01-13T16:02:02.589Z","token":"584870c2bd..."}
{"error":"Token is expired or already used","level":"error","message":"Error registering organization","stack":"Error: Token is expired or already used\n    at OrganizationService.validateToken (D:\\new_lms\\backend\\services\\organizationService.js:127:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OrganizationService.registerOrganization (D:\\new_lms\\backend\\services\\organizationService.js:157:21)\n    at async exports.register (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:186:20)","timestamp":"2026-01-13T16:02:02.589Z","token":"584870c2bd..."}
{"id":"69666b6f4eda0e46d99024db","level":"info","message":"Fetching organization by ID","timestamp":"2026-01-13T16:02:29.256Z"}
{"id":"69666b6f4eda0e46d99024db","level":"info","message":"Organization fetched successfully","name":"Test shgc","timestamp":"2026-01-13T16:02:29.260Z"}
{"id":"69666b6f4eda0e46d99024db","level":"info","message":"Updating organization","timestamp":"2026-01-13T16:04:26.878Z","updateData":{"branding":{"accentColor":"#00CC66","primaryColor":"#0066CC","secondaryColor":"#FF9900"},"description":"Updated description for Test University","phone":"+1-234-567-8999","settings":{"features":{"allowSelfRegistration":false,"requireEmailVerification":true},"language":"en","timezone":"America/Los_Angeles"},"website":"https://new-test-university.edu"}}
{"id":"69666b6f4eda0e46d99024db","level":"info","message":"Organization updated successfully","name":"Test shgc","timestamp":"2026-01-13T16:04:26.888Z"}
{"filters":{"limit":20,"skip":0},"level":"info","message":"Listing organizations","timestamp":"2026-01-13T16:09:51.194Z"}
{"filters":{"limit":20,"skip":0},"level":"info","message":"Found 3 organizations","timestamp":"2026-01-13T16:09:51.203Z"}
{"filters":{"limit":20,"skip":0},"level":"info","message":"Listing organizations","timestamp":"2026-01-13T16:15:44.653Z"}
{"filters":{"limit":20,"skip":0},"level":"info","message":"Found 3 organizations","timestamp":"2026-01-13T16:15:44.672Z"}
{"id":"6964bc32c656d98a36ec476c","level":"info","message":"Fetching organization by ID","timestamp":"2026-01-13T16:17:52.841Z"}
{"id":"6964bc32c656d98a36ec476c","level":"info","message":"Organization fetched successfully","name":"Test University","timestamp":"2026-01-13T16:17:52.855Z"}
{"createdBy":"69649cbda3588f40b95606ed","email":"contact1@test-university.edu","level":"info","message":"Creating organization token","organizationName":"Test University","timestamp":"2026-01-22T05:57:35.128Z"}
{"expiresAt":"2026-01-29T05:57:35.149Z","level":"info","message":"Organization token created successfully","organizationName":"Test University","timestamp":"2026-01-22T05:57:35.171Z","tokenId":"6971bc4f8f3af064e3c4484d"}
