{"level":"info","message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T08:27:57.850Z"}
{"email":false,"level":"warn","message":"Token generation failed - missing required fields","organizationName":true,"timestamp":"2026-01-12T08:27:57.851Z"}
{"expiresInDays":7,"level":"info","maxUses":1,"message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T08:30:19.355Z"}
{"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:30:19.370Z"}
{"expiresInDays":7,"level":"info","maxUses":1,"message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T08:31:14.320Z"}
{"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:31:14.324Z"}
{"expiresInDays":7,"level":"info","maxUses":1,"message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T08:36:37.617Z"}
{"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:36:37.620Z"}
{"expiresInDays":7,"level":"info","maxUses":1,"message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T08:38:25.791Z"}
{"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:38:25.793Z"}
{"expiresInDays":7,"level":"info","maxUses":1,"message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T08:38:28.903Z"}
{"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:38:28.906Z"}
{"level":"info","message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T08:40:50.614Z"}
{"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:40:50.617Z"}
{"level":"info","message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T08:41:20.464Z"}
{"error":"OrganizationToken validation failed: email: Email is required","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"ValidationError: OrganizationToken validation failed: email: Email is required\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T08:41:20.468Z"}
{"error":"Cannot destructure property 'organizationName' of 'req.body' as it is undefined.","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"TypeError: Cannot destructure property 'organizationName' of 'req.body' as it is undefined.\n    at exports.generateToken (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:30:13)\n    at Layer.handleRequest (D:\\new_lms\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\new_lms\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at exports.requirePlatformAdmin (D:\\new_lms\\backend\\middleware\\organizationMiddleware.js:320:5)\n    at Layer.handleRequest (D:\\new_lms\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\new_lms\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticate (D:\\new_lms\\backend\\middleware\\authMiddleware.js:58:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-12T08:48:49.254Z"}
{"error":"Cannot destructure property 'organizationName' of 'req.body' as it is undefined.","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"TypeError: Cannot destructure property 'organizationName' of 'req.body' as it is undefined.\n    at exports.generateToken (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:30:13)\n    at Layer.handleRequest (D:\\new_lms\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\new_lms\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at exports.requirePlatformAdmin (D:\\new_lms\\backend\\middleware\\organizationMiddleware.js:320:5)\n    at Layer.handleRequest (D:\\new_lms\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\new_lms\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticate (D:\\new_lms\\backend\\middleware\\authMiddleware.js:58:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-12T08:49:00.751Z"}
{"level":"info","message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T08:56:43.269Z"}
{"email":false,"level":"warn","message":"Token generation failed - missing required fields","organizationName":true,"timestamp":"2026-01-12T08:56:43.269Z"}
{"level":"info","message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T08:59:46.630Z"}
{"error":"next is not a function","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"TypeError: next is not a function\n    at model.<anonymous> (D:\\new_lms\\backend\\models\\OrganizationToken.js:181:3)\n    at Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:63:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)\n    at async OrganizationService.createToken (D:\\new_lms\\backend\\services\\organizationService.js:84:7)\n    at async exports.generateToken (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:51:19)","timestamp":"2026-01-12T08:59:46.660Z"}
{"email":"contact@test-university.edu","level":"info","message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T09:02:21.728Z"}
{"error":"next is not a function","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"TypeError: next is not a function\n    at model.<anonymous> (D:\\new_lms\\backend\\models\\OrganizationToken.js:181:3)\n    at Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:63:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)\n    at async OrganizationService.createToken (D:\\new_lms\\backend\\services\\organizationService.js:79:7)\n    at async exports.generateToken (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:49:19)","timestamp":"2026-01-12T09:02:21.750Z"}
{"email":"contact@test-university.edu","level":"info","message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T09:06:04.632Z"}
{"level":"info","message":"Token generated successfully","organizationName":"Test University","timestamp":"2026-01-12T09:06:04.665Z","tokenId":"6964b97c4315f2f0dbbae3cd"}
{"email":"contact@test-university.edu","level":"info","message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T09:07:17.643Z"}
{"error":"An active token already exists for this email","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"Error: An active token already exists for this email\n    at OrganizationService.createToken (D:\\new_lms\\backend\\services\\organizationService.js:59:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.generateToken (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:49:19)","timestamp":"2026-01-12T09:07:17.649Z"}
{"email":"contact@test-university.edu","level":"info","message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T09:09:27.728Z"}
{"error":"An active token already exists for this email","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"Error: An active token already exists for this email\n    at OrganizationService.createToken (D:\\new_lms\\backend\\services\\organizationService.js:59:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.generateToken (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:49:19)","timestamp":"2026-01-12T09:09:27.737Z"}
{"email":"contac@test-university.edu","level":"info","message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-12T09:09:48.860Z"}
{"level":"info","message":"Token generated successfully","organizationName":"Test University","timestamp":"2026-01-12T09:09:48.883Z","tokenId":"6964ba5cfc3ccb170b5604ed"}
{"level":"info","message":"Token validation requested","timestamp":"2026-01-12T09:10:57.642Z","token":"d494bddcfa..."}
{"level":"info","message":"Token validated successfully","organizationName":"Test University","timestamp":"2026-01-12T09:10:57.646Z","tokenId":"6964ba5cfc3ccb170b5604ed"}
{"level":"info","message":"Organization registration requested","organizationName":"Test University","timestamp":"2026-01-12T09:12:28.578Z","token":"d494bddcfa..."}
{"level":"warn","message":"Registration failed - incomplete super admin details","timestamp":"2026-01-12T09:12:28.579Z"}
{"level":"info","message":"Organization registration requested","organizationName":"Test University","timestamp":"2026-01-12T09:13:11.855Z","token":"d494bddcfa..."}
{"level":"warn","message":"Registration failed - incomplete super admin details","timestamp":"2026-01-12T09:13:11.856Z"}
{"level":"info","message":"Organization registration requested","organizationName":"Test University","timestamp":"2026-01-12T09:13:32.867Z","token":"d494bddcfa..."}
{"level":"warn","message":"Registration failed - incomplete super admin details","timestamp":"2026-01-12T09:13:32.868Z"}
{"level":"info","message":"Organization registration requested","organizationName":"Test University","superAdminEmail":"admin@test-university.edu","timestamp":"2026-01-12T09:15:57.055Z","token":"{{org_toke..."}
{"error":"Invalid token","level":"error","message":"Organization registration error","stack":"Error: Invalid token\n    at OrganizationService.validateToken (D:\\new_lms\\backend\\services\\organizationService.js:117:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OrganizationService.registerOrganization (D:\\new_lms\\backend\\services\\organizationService.js:157:21)\n    at async exports.register (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:186:20)","timestamp":"2026-01-12T09:15:57.060Z","token":"{{org_toke..."}
{"level":"info","message":"Organization registration requested","organizationName":"Test University","superAdminEmail":"admin@test-university.edu","timestamp":"2026-01-12T09:16:12.535Z","token":"d494bddcfa..."}
{"error":"Organization validation failed: slug: Path `slug` is required.","level":"error","message":"Organization registration error","stack":"ValidationError: Organization validation failed: slug: Path `slug` is required.\n    at Document.invalidate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3379:32)\n    at validatePath (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3154:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async model.$__validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:3095:3)\n    at async model.validate (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\document.js:2672:5)\n    at async model.validateBeforeSave (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\plugins\\validateBeforeSave.js:34:7)\n    at async Kareem.execPre (D:\\new_lms\\backend\\node_modules\\kareem\\index.js:65:24)\n    at async model.$__save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:369:5)\n    at async model.save (D:\\new_lms\\backend\\node_modules\\mongoose\\lib\\model.js:609:5)","timestamp":"2026-01-12T09:16:12.555Z","token":"d494bddcfa..."}
{"level":"info","message":"Organization registration requested","organizationName":"Test University","superAdminEmail":"admin@test-university.edu","timestamp":"2026-01-12T09:17:38.645Z","token":"d494bddcfa..."}
{"level":"info","message":"Organization registered successfully","organizationId":"6964bc32c656d98a36ec476c","organizationName":"Test University","superAdminEmail":"admin@test-university.edu","superAdminId":"6964bc32c656d98a36ec476f","timestamp":"2026-01-12T09:17:38.836Z"}
{"email":"contact@test-university.edu","level":"info","message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T14:17:03.969Z"}
{"error":"An organization with this email already exists","level":"error","message":"Error generating token","requestedBy":"69649cbda3588f40b95606ed","stack":"Error: An organization with this email already exists\n    at OrganizationService.createToken (D:\\new_lms\\backend\\services\\organizationService.js:47:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.generateToken (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:49:19)","timestamp":"2026-01-13T14:17:03.980Z"}
{"email":"contact1@test-university.edu","level":"info","message":"Token generation requested","organizationName":"Test University","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T14:17:13.728Z"}
{"level":"info","message":"Token generated successfully","organizationName":"Test University","timestamp":"2026-01-13T14:17:13.775Z","tokenId":"696653e9a4a4ed94ecc5a6a0"}
{"level":"info","limit":20,"message":"List tokens requested","page":1,"requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T14:19:03.479Z"}
{"count":3,"level":"info","message":"Tokens listed","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T14:19:03.519Z","total":3}
{"level":"info","message":"Token revocation requested","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T14:23:27.769Z","tokenId":"584870c2bdf112b66edf9f9cb1d2041c54b1650d1bcc93bf7b58dbb165a1ba2d"}
{"error":"Cast to ObjectId failed for value \"584870c2bdf112b66edf9f9cb1d2041c54b1650d1bcc93bf7b58dbb165a1ba2d\" (type string) at path \"_id\" for model \"OrganizationToken\"","level":"error","message":"Error revoking token","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T14:23:27.771Z","tokenId":"584870c2bdf112b66edf9f9cb1d2041c54b1650d1bcc93bf7b58dbb165a1ba2d"}
{"level":"info","message":"Token revocation requested","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T15:30:09.602Z","tokenId":"584870c2bdf112b66edf9f9cb1d2041c54b1650d1bcc93bf7b58dbb165a1ba2d"}
{"error":"Cast to ObjectId failed for value \"584870c2bdf112b66edf9f9cb1d2041c54b1650d1bcc93bf7b58dbb165a1ba2d\" (type string) at path \"_id\" for model \"OrganizationToken\"","level":"error","message":"Error revoking token","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T15:30:09.604Z","tokenId":"584870c2bdf112b66edf9f9cb1d2041c54b1650d1bcc93bf7b58dbb165a1ba2d"}
{"level":"info","limit":20,"message":"List tokens requested","page":1,"requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T15:30:32.487Z"}
{"count":3,"level":"info","message":"Tokens listed","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T15:30:32.538Z","total":3}
{"level":"info","message":"Token revocation requested","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T15:31:21.469Z","tokenId":"584870c2bdf112b66edf9f9cb1d2041c54b1650d1bcc93bf7b58dbb165a1ba2d"}
{"error":"Cast to ObjectId failed for value \"584870c2bdf112b66edf9f9cb1d2041c54b1650d1bcc93bf7b58dbb165a1ba2d\" (type string) at path \"_id\" for model \"OrganizationToken\"","level":"error","message":"Error revoking token","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T15:31:21.470Z","tokenId":"584870c2bdf112b66edf9f9cb1d2041c54b1650d1bcc93bf7b58dbb165a1ba2d"}
{"level":"info","message":"Token revocation requested","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T15:36:32.623Z","tokenId":"69649cbda3588f40b95606ed"}
{"level":"warn","message":"Token not found for revocation","timestamp":"2026-01-13T15:36:32.628Z","tokenId":"69649cbda3588f40b95606ed"}
{"level":"info","message":"Token revocation requested","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T15:39:31.288Z","tokenId":"6964b97c4315f2f0dbbae3cd"}
{"level":"info","message":"Token revoked","revokedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T15:39:31.315Z","tokenId":"6964b97c4315f2f0dbbae3cd"}
{"level":"info","limit":20,"message":"List tokens requested","page":1,"requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T15:48:38.163Z"}
{"count":3,"level":"info","message":"Tokens listed","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T15:48:38.174Z","total":3}
{"level":"info","message":"Token validation requested","timestamp":"2026-01-13T15:48:55.586Z","token":"6964b97c43..."}
{"error":"Invalid token","level":"error","message":"Token validation error","timestamp":"2026-01-13T15:48:55.594Z","token":"6964b97c43..."}
{"level":"info","message":"Token validation requested","timestamp":"2026-01-13T15:51:47.153Z","token":"6964bc32c6..."}
{"error":"Invalid token","level":"error","message":"Token validation error","timestamp":"2026-01-13T15:51:47.156Z","token":"6964bc32c6..."}
{"level":"info","message":"Token validation requested","timestamp":"2026-01-13T15:51:48.993Z","token":"6964bc32c6..."}
{"error":"Invalid token","level":"error","message":"Token validation error","timestamp":"2026-01-13T15:51:48.996Z","token":"6964bc32c6..."}
{"level":"info","message":"Token validation requested","timestamp":"2026-01-13T15:52:09.856Z","token":"6964ba5cfc..."}
{"error":"Invalid token","level":"error","message":"Token validation error","timestamp":"2026-01-13T15:52:09.858Z","token":"6964ba5cfc..."}
{"level":"info","message":"Token validation requested","timestamp":"2026-01-13T15:52:27.785Z","token":"57d5eed43b..."}
{"error":"Token is expired or already used","level":"error","message":"Token validation error","timestamp":"2026-01-13T15:52:27.788Z","token":"57d5eed43b..."}
{"level":"info","message":"Token validation requested","timestamp":"2026-01-13T15:54:10.331Z","token":"d494bddcfa..."}
{"error":"Token is expired or already used","level":"error","message":"Token validation error","timestamp":"2026-01-13T15:54:10.334Z","token":"d494bddcfa..."}
{"level":"info","message":"Token validation requested","timestamp":"2026-01-13T15:54:47.698Z","token":"584870c2bd..."}
{"level":"info","message":"Token validated successfully","organizationName":"Test University","timestamp":"2026-01-13T15:54:47.702Z","tokenId":"696653e9a4a4ed94ecc5a6a0"}
{"level":"info","message":"Organization registration requested","organizationName":"Test University","superAdminEmail":"admin@test-university.edu","timestamp":"2026-01-13T15:56:53.668Z","token":"584870c2bd..."}
{"error":"This email is already registered","level":"error","message":"Organization registration error","stack":"Error: This email is already registered\n    at OrganizationService.registerOrganization (D:\\new_lms\\backend\\services\\organizationService.js:169:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.register (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:186:20)","timestamp":"2026-01-13T15:56:53.677Z","token":"584870c2bd..."}
{"level":"info","message":"Organization registration requested","organizationName":"Test University","superAdminEmail":"admin@test-university.edu","timestamp":"2026-01-13T15:57:05.867Z","token":"584870c2bd..."}
{"error":"This email is already registered","level":"error","message":"Organization registration error","stack":"Error: This email is already registered\n    at OrganizationService.registerOrganization (D:\\new_lms\\backend\\services\\organizationService.js:169:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.register (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:186:20)","timestamp":"2026-01-13T15:57:05.873Z","token":"584870c2bd..."}
{"level":"info","message":"Organization registration requested","organizationName":"Test University","superAdminEmail":"admin1@test-university.edu","timestamp":"2026-01-13T15:57:15.882Z","token":"584870c2bd..."}
{"error":"An organization with this name already exists","level":"error","message":"Organization registration error","stack":"Error: An organization with this name already exists\n    at OrganizationService.registerOrganization (D:\\new_lms\\backend\\services\\organizationService.js:180:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.register (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:186:20)","timestamp":"2026-01-13T15:57:15.895Z","token":"584870c2bd..."}
{"level":"info","message":"Organization registration requested","organizationName":"Test shgc","superAdminEmail":"admin1@test-university.edu","timestamp":"2026-01-13T15:57:35.683Z","token":"584870c2bd..."}
{"level":"info","message":"Organization registered successfully","organizationId":"69666b6f4eda0e46d99024db","organizationName":"Test shgc","superAdminEmail":"admin1@test-university.edu","superAdminId":"69666b6f4eda0e46d99024de","timestamp":"2026-01-13T15:57:35.858Z"}
{"level":"info","message":"Organization profile requested","organizationId":"69666b6f4eda0e46d99024db","timestamp":"2026-01-13T15:59:36.757Z","userId":"69666b6f4eda0e46d99024de"}
{"level":"info","message":"Organization profile fetched","organizationId":"69666b6f4eda0e46d99024db","organizationName":"Test shgc","timestamp":"2026-01-13T15:59:36.764Z"}
{"level":"info","message":"Organization registration requested","organizationName":"Test shgc","superAdminEmail":"admin1@test-university.edu","timestamp":"2026-01-13T16:01:22.885Z","token":"584870c2bd..."}
{"error":"Token is expired or already used","level":"error","message":"Organization registration error","stack":"Error: Token is expired or already used\n    at OrganizationService.validateToken (D:\\new_lms\\backend\\services\\organizationService.js:127:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OrganizationService.registerOrganization (D:\\new_lms\\backend\\services\\organizationService.js:157:21)\n    at async exports.register (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:186:20)","timestamp":"2026-01-13T16:01:22.889Z","token":"584870c2bd..."}
{"level":"info","message":"Organization registration requested","organizationName":"Test shgc","superAdminEmail":"admin1@test-university.edu","timestamp":"2026-01-13T16:02:02.585Z","token":"584870c2bd..."}
{"error":"Token is expired or already used","level":"error","message":"Organization registration error","stack":"Error: Token is expired or already used\n    at OrganizationService.validateToken (D:\\new_lms\\backend\\services\\organizationService.js:127:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OrganizationService.registerOrganization (D:\\new_lms\\backend\\services\\organizationService.js:157:21)\n    at async exports.register (D:\\new_lms\\backend\\controllers\\organization\\organizationController.js:186:20)","timestamp":"2026-01-13T16:02:02.590Z","token":"584870c2bd..."}
{"level":"info","message":"Organization profile requested","organizationId":"69666b6f4eda0e46d99024db","timestamp":"2026-01-13T16:02:29.256Z","userId":"69666b6f4eda0e46d99024de"}
{"level":"info","message":"Organization profile fetched","organizationId":"69666b6f4eda0e46d99024db","organizationName":"Test shgc","timestamp":"2026-01-13T16:02:29.261Z"}
{"level":"info","message":"Organization profile update requested","organizationId":"69666b6f4eda0e46d99024db","timestamp":"2026-01-13T16:04:26.878Z","updates":["description","phone","website","settings","branding"],"userId":"69666b6f4eda0e46d99024de"}
{"level":"info","message":"Organization profile updated","organizationId":"69666b6f4eda0e46d99024db","organizationName":"Test shgc","timestamp":"2026-01-13T16:04:26.888Z","updatedBy":"69666b6f4eda0e46d99024de"}
{"level":"info","limit":20,"message":"List all organizations requested","page":1,"requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T16:09:51.194Z"}
{"count":3,"level":"info","message":"Organizations listed","page":1,"requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T16:09:51.206Z","total":3}
{"level":"info","limit":20,"message":"List all organizations requested","page":1,"requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T16:15:44.651Z"}
{"count":3,"level":"info","message":"Organizations listed","page":1,"requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T16:15:44.677Z","total":3}
{"level":"info","message":"Organization details requested","orgId":"6964bc32c656d98a36ec476c","requestedBy":"69649cbda3588f40b95606ed","timestamp":"2026-01-13T16:17:52.840Z"}
{"level":"info","message":"Organization details fetched","organizationId":"6964bc32c656d98a36ec476c","organizationName":"Test University","timestamp":"2026-01-13T16:17:52.862Z","userCount":1}
